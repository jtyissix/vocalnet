======================================================================
Audio Token 投机解码接受概率测试报告 (MTP版本)
Draft Model: 1B | Target Model: 8B
======================================================================

测试说明:
----------------------------------------------------------------------
本测试评估使用MTP头时draft model生成的audio tokens被target model接受的概率
使用标准投机解码验证逻辑: accept_prob = min(1, p(x)/q(x))
k = draft model生成的text token数量
mtp_num = 使用的MTP层数
期望接受数 = 考虑前缀性质的累积接受概率

整体统计:
----------------------------------------------------------------------
测试样本数: 6000
测试的k值: [4, 6, 8, 10, 12, 14]
测试的MTP层数: [1]
总体平均接受率: 60.90%
总体平均期望接受数: 4.96

======================================================================
各组合详细统计
======================================================================


======================================================================
MTP Layers = 1
======================================================================

k = 4 (text tokens):
----------------------------------------------------------------------
  样本数量: 1000
  
  【接受率】
    平均值: 85.47%
    标准差: 0.76%
    最小值: 84.09%
    最大值: 94.87%
  
  【期望接受数】
    平均值: 3.42 tokens
    标准差: 0.03
    最小值: 3.36
    最大值: 3.79
  
  【Audio Token数量】
    平均值: 4.0 tokens
    标准差: 0.0
  
  【效率】
    接受效率: 85.5%
    (期望接受数 / 总audio tokens)
  
  【时间开销】
    Draft平均时间: 385.94ms
    Verify平均时间: 94.45ms

k = 6 (text tokens):
----------------------------------------------------------------------
  样本数量: 1000
  
  【接受率】
    平均值: 74.37%
    标准差: 1.31%
    最小值: 72.25%
    最大值: 93.16%
  
  【期望接受数】
    平均值: 4.46 tokens
    标准差: 0.08
    最小值: 4.34
    最大值: 5.59
  
  【Audio Token数量】
    平均值: 6.0 tokens
    标准差: 0.0
  
  【效率】
    接受效率: 74.4%
    (期望接受数 / 总audio tokens)
  
  【时间开销】
    Draft平均时间: 404.88ms
    Verify平均时间: 95.50ms

k = 8 (text tokens):
----------------------------------------------------------------------
  样本数量: 1000
  
  【接受率】
    平均值: 63.59%
    标准差: 1.59%
    最小值: 60.85%
    最大值: 89.68%
  
  【期望接受数】
    平均值: 5.09 tokens
    标准差: 0.13
    最小值: 4.87
    最大值: 7.17
  
  【Audio Token数量】
    平均值: 8.0 tokens
    标准差: 0.0
  
  【效率】
    接受效率: 63.6%
    (期望接受数 / 总audio tokens)
  
  【时间开销】
    Draft平均时间: 414.27ms
    Verify平均时间: 95.85ms

k = 10 (text tokens):
----------------------------------------------------------------------
  样本数量: 1000
  
  【接受率】
    平均值: 54.17%
    标准差: 1.48%
    最小值: 51.35%
    最大值: 79.32%
  
  【期望接受数】
    平均值: 5.42 tokens
    标准差: 0.15
    最小值: 5.13
    最大值: 7.93
  
  【Audio Token数量】
    平均值: 10.0 tokens
    标准差: 0.0
  
  【效率】
    接受效率: 54.2%
    (期望接受数 / 总audio tokens)
  
  【时间开销】
    Draft平均时间: 422.28ms
    Verify平均时间: 95.93ms

k = 12 (text tokens):
----------------------------------------------------------------------
  样本数量: 1000
  
  【接受率】
    平均值: 46.83%
    标准差: 1.33%
    最小值: 44.35%
    最大值: 69.17%
  
  【期望接受数】
    平均值: 5.62 tokens
    标准差: 0.16
    最小值: 5.32
    最大值: 8.30
  
  【Audio Token数量】
    平均值: 12.0 tokens
    标准差: 0.0
  
  【效率】
    接受效率: 46.8%
    (期望接受数 / 总audio tokens)
  
  【时间开销】
    Draft平均时间: 429.74ms
    Verify平均时间: 96.16ms

k = 14 (text tokens):
----------------------------------------------------------------------
  样本数量: 1000
  
  【接受率】
    平均值: 40.98%
    标准差: 1.17%
    最小值: 38.84%
    最大值: 59.57%
  
  【期望接受数】
    平均值: 5.74 tokens
    标准差: 0.16
    最小值: 5.44
    最大值: 8.34
  
  【Audio Token数量】
    平均值: 14.0 tokens
    标准差: 0.0
  
  【效率】
    接受效率: 41.0%
    (期望接受数 / 总audio tokens)
  
  【时间开销】
    Draft平均时间: 434.56ms
    Verify平均时间: 96.13ms

======================================================================
结论与建议
======================================================================
最高接受率组合: k=4, MTP=1, 接受率=94.87%

最高期望接受数组合: k=14, MTP=1, 期望接受=8.34

MTP层数影响:
  MTP=1: 平均接受率 60.90%

评估: 使用MTP头后接受率很高,投机解码效果优秀
