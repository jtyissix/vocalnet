======================================================================
Audio Token 投机解码接受概率测试报告 (MTP版本)
Draft Model: 1B | Target Model: 8B
======================================================================

测试说明:
----------------------------------------------------------------------
本测试评估使用MTP头时draft model生成的audio tokens被target model接受的概率
使用标准投机解码验证逻辑: accept_prob = min(1, p(x)/q(x))
k = draft model生成的text token数量
mtp_num = 使用的MTP层数
期望接受数 = 考虑前缀性质的累积接受概率

整体统计:
----------------------------------------------------------------------
测试样本数: 5000
测试的k值: [3, 6, 9, 12, 15]
测试的MTP层数: [2]
总体平均接受率: 59.24%
总体平均期望接受数: 4.45

======================================================================
各组合详细统计
======================================================================


======================================================================
MTP Layers = 2
======================================================================

k = 3 (text tokens):
----------------------------------------------------------------------
  样本数量: 1000
  
  【接受率】
    平均值: 93.65%
    标准差: 0.75%
    最小值: 74.87%
    最大值: 95.80%
  
  【期望接受数】
    平均值: 2.81 tokens
    标准差: 0.02
    最小值: 2.25
    最大值: 2.87
  
  【Audio Token数量】
    平均值: 3.0 tokens
    标准差: 0.0
  
  【效率】
    接受效率: 93.7%
    (期望接受数 / 总audio tokens)
  
  【时间开销】
    Draft平均时间: 364.84ms
    Verify平均时间: 93.56ms

k = 6 (text tokens):
----------------------------------------------------------------------
  样本数量: 1000
  
  【接受率】
    平均值: 71.65%
    标准差: 1.18%
    最小值: 49.42%
    最大值: 78.72%
  
  【期望接受数】
    平均值: 4.30 tokens
    标准差: 0.07
    最小值: 2.97
    最大值: 4.72
  
  【Audio Token数量】
    平均值: 6.0 tokens
    标准差: 0.0
  
  【效率】
    接受效率: 71.6%
    (期望接受数 / 总audio tokens)
  
  【时间开销】
    Draft平均时间: 370.31ms
    Verify平均时间: 94.13ms

k = 9 (text tokens):
----------------------------------------------------------------------
  样本数量: 1000
  
  【接受率】
    平均值: 54.05%
    标准差: 1.04%
    最小值: 35.70%
    最大值: 64.75%
  
  【期望接受数】
    平均值: 4.86 tokens
    标准差: 0.09
    最小值: 3.21
    最大值: 5.83
  
  【Audio Token数量】
    平均值: 9.0 tokens
    标准差: 0.0
  
  【效率】
    接受效率: 54.1%
    (期望接受数 / 总audio tokens)
  
  【时间开销】
    Draft平均时间: 386.54ms
    Verify平均时间: 94.96ms

k = 12 (text tokens):
----------------------------------------------------------------------
  样本数量: 1000
  
  【接受率】
    平均值: 42.35%
    标准差: 0.81%
    最小值: 26.83%
    最大值: 49.55%
  
  【期望接受数】
    平均值: 5.08 tokens
    标准差: 0.10
    最小值: 3.22
    最大值: 5.95
  
  【Audio Token数量】
    平均值: 12.0 tokens
    标准差: 0.0
  
  【效率】
    接受效率: 42.4%
    (期望接受数 / 总audio tokens)
  
  【时间开销】
    Draft平均时间: 411.94ms
    Verify平均时间: 95.24ms

k = 15 (text tokens):
----------------------------------------------------------------------
  样本数量: 1000
  
  【接受率】
    平均值: 34.48%
    标准差: 0.67%
    最小值: 21.49%
    最大值: 39.79%
  
  【期望接受数】
    平均值: 5.17 tokens
    标准差: 0.10
    最小值: 3.22
    最大值: 5.97
  
  【Audio Token数量】
    平均值: 15.0 tokens
    标准差: 0.0
  
  【效率】
    接受效率: 34.5%
    (期望接受数 / 总audio tokens)
  
  【时间开销】
    Draft平均时间: 421.89ms
    Verify平均时间: 95.54ms

======================================================================
结论与建议
======================================================================
最高接受率组合: k=3, MTP=2, 接受率=95.80%

最高期望接受数组合: k=15, MTP=2, 期望接受=5.97

MTP层数影响:
  MTP=2: 平均接受率 59.24%

评估: 使用MTP头后接受率很高,投机解码效果优秀
