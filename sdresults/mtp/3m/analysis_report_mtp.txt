======================================================================
Audio Token 投机解码接受概率测试报告 (MTP版本)
Draft Model: 1B | Target Model: 8B
======================================================================

测试说明:
----------------------------------------------------------------------
本测试评估使用MTP头时draft model生成的audio tokens被target model接受的概率
使用标准投机解码验证逻辑: accept_prob = min(1, p(x)/q(x))
k = draft model生成的text token数量
mtp_num = 使用的MTP层数
期望接受数 = 考虑前缀性质的累积接受概率

整体统计:
----------------------------------------------------------------------
测试样本数: 4000
测试的k值: [4, 8, 12, 16]
测试的MTP层数: [3]
总体平均接受率: 57.67%
总体平均期望接受数: 4.92

======================================================================
各组合详细统计
======================================================================


======================================================================
MTP Layers = 3
======================================================================

k = 4 (text tokens):
----------------------------------------------------------------------
  样本数量: 1000
  
  【接受率】
    平均值: 86.09%
    标准差: 1.16%
    最小值: 56.15%
    最大值: 91.24%
  
  【期望接受数】
    平均值: 3.44 tokens
    标准差: 0.05
    最小值: 2.25
    最大值: 3.65
  
  【Audio Token数量】
    平均值: 4.0 tokens
    标准差: 0.0
  
  【效率】
    接受效率: 86.1%
    (期望接受数 / 总audio tokens)
  
  【时间开销】
    Draft平均时间: 371.22ms
    Verify平均时间: 93.76ms

k = 8 (text tokens):
----------------------------------------------------------------------
  样本数量: 1000
  
  【接受率】
    平均值: 63.41%
    标准差: 1.51%
    最小值: 28.08%
    最大值: 71.53%
  
  【期望接受数】
    平均值: 5.07 tokens
    标准差: 0.12
    最小值: 2.25
    最大值: 5.72
  
  【Audio Token数量】
    平均值: 8.0 tokens
    标准差: 0.0
  
  【效率】
    接受效率: 63.4%
    (期望接受数 / 总audio tokens)
  
  【时间开销】
    Draft平均时间: 382.51ms
    Verify平均时间: 94.41ms

k = 12 (text tokens):
----------------------------------------------------------------------
  样本数量: 1000
  
  【接受率】
    平均值: 45.97%
    标准差: 1.21%
    最小值: 18.72%
    最大值: 52.10%
  
  【期望接受数】
    平均值: 5.52 tokens
    标准差: 0.15
    最小值: 2.25
    最大值: 6.25
  
  【Audio Token数量】
    平均值: 12.0 tokens
    标准差: 0.0
  
  【效率】
    接受效率: 46.0%
    (期望接受数 / 总audio tokens)
  
  【时间开销】
    Draft平均时间: 392.05ms
    Verify平均时间: 94.91ms

k = 16 (text tokens):
----------------------------------------------------------------------
  样本数量: 1000
  
  【接受率】
    平均值: 35.20%
    标准差: 0.92%
    最小值: 14.04%
    最大值: 39.84%
  
  【期望接受数】
    平均值: 5.63 tokens
    标准差: 0.15
    最小值: 2.25
    最大值: 6.37
  
  【Audio Token数量】
    平均值: 16.0 tokens
    标准差: 0.0
  
  【效率】
    接受效率: 35.2%
    (期望接受数 / 总audio tokens)
  
  【时间开销】
    Draft平均时间: 401.12ms
    Verify平均时间: 95.37ms

======================================================================
结论与建议
======================================================================
最高接受率组合: k=4, MTP=3, 接受率=91.24%

最高期望接受数组合: k=16, MTP=3, 期望接受=6.37

MTP层数影响:
  MTP=3: 平均接受率 57.67%

评估: 使用MTP头后接受率很高,投机解码效果优秀
